import React, { useState } from "react";
import { Card, CardContent } from "@/components/ui/card";
import { Input } from "@/components/ui/input";
import { Button } from "@/components/ui/button";
import { ScrollArea } from "@/components/ui/scroll-area";

const herbotReplies = (message) => {
  const txt = message.toLowerCase();

  if (txt.includes("sad") || txt.includes("depressed")) {
    return "Aww baby ðŸ’” I'm here for you ðŸ§¸ Wanna talk more about it?";
  } else if (txt.includes("alone")) {
    return "Deep breaths, love ðŸ¤ Letâ€™s slow down. Can you name 3 things around you?";
  } else if (txt.includes("happy") || txt.includes("excited")) {
    return "Yasss queen ðŸ‘‘ Tell me all the juicy details!";
  } else if (txt.includes("anxious") || txt.includes("motivate")) {
    return "You're THAT girl ðŸ’… Donâ€™t forget it. Get up, fix your crown and SLAY today.";
  } else if (txt.includes("love")) {
    return "I'm around ðŸ’Œ Wanna call it a virtual hug? ðŸ¤—";
  } else if (txt.includes("inspire")) {
    return "Tell me more!! âœ¨";
  } else {
    return "I hear you, babe ðŸ’— Letâ€™s figure this out together.";
  }
};

export default function HerbotSupportChat() {
  const [input, setInput] = useState("");
  const [messages, setMessages] = useState([]);

  const sendMessage = () => {
    if (!input.trim()) return;
    const userMsg = { sender: "user", text: input };
    const botReply = { sender: "herbot", text: herbotReplies(input) };

    setMessages((prev) => [...prev, userMsg, botReply]);
    setInput("");
  };

  return (
    <div className="min-h-screen bg-pink-50 flex items-center justify-center p-4 font-sans">
      <Card className="w-full max-w-md shadow-xl border-2 border-pink-300">
        <CardContent className="p-6">
          <h1 className="text-3xl font-bold text-pink-700 mb-4 text-center">
            ðŸ’– Ask HerBot ðŸ’¬
          </h1>
          <ScrollArea className="h-80 border rounded-lg p-4 bg-white mb-4 space-y-2 overflow-y-auto">
            {messages.map((msg, index) => (
              <div
                key={index}
                className={`max-w-[75%] px-4 py-2 rounded-xl text-sm ${
                  msg.sender === "user"
                    ? "bg-pink-200 ml-auto text-right"
                    : "bg-white border border-pink-300 text-left"
                }`}
              >
                {msg.text}
              </div>
            ))}
          </ScrollArea>
          <div className="flex gap-2">
            <Input
              value={input}
              onChange={(e) => setInput(e.target.value)}
              placeholder="Type your heart out ðŸ’Œ"
              className="flex-1 bg-pink-100 border-pink-300"
            />
            <Button
              onClick={sendMessage}
              className="bg-pink-500 text-white hover:bg-pink-600 rounded-xl"
            >
              Send
            </Button>
          </div>
        </CardContent>
      </Card>
    </div>
  );
}
